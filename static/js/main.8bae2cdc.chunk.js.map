{"version":3,"sources":["services/UserService.js","utils/Utils.js","components/common/TextInput.js","components/login/LoginForm.js","utils/Messages.js","components/login/LoginPage.js","components/PageNotFound.js","components/common/Header.js","App.js","index.js"],"names":["saveUser","user","a","axios","post","getUser","get","sleep","ms","Promise","resolve","setTimeout","TextInput","name","type","title","onChange","placeholder","error","value","className","htmlFor","id","required","LoginForm","apiCallStatus","onSave","errors","onSubmit","noValidate","fname","password","lname","email","disabled","ERROR_FIRST_NAME","ERROR_LAST_NAME","ERROR_EMAIL","ERROR_MISSING_PASSWORD","ERROR_API","ERROR_PASSWORD","USER_SAVED_SUCCESS","USER_RETRIEVE_SUCCESS","initialUserState","LoginPage","useState","setUser","setErrors","apiCallInProgress","setApiCallInProgress","postUser","payload","firstName","lastName","userAPI","status","toast","success","messages","data","isFormValid","RegExp","test","validateEmail","includes","validatePassword","Object","keys","length","event","target","preventDefault","PageNotFound","Header","src","style","height","alt","App","path","component","autoClose","hideProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8bae2cdc.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport async function saveUser(user) {\n  return await axios.post('https://demo-api.now.sh/users', user);\n}\n\nexport async function getUser() {\n  return await axios.get('https://demo-api.now.sh/users');\n}\n","export function validateEmail(email) {\n  const mailFormat = '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$';\n  const pattern = new RegExp(mailFormat);\n  return pattern.test(email);\n}\n\nexport function sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport function validatePassword(password, fname, lname) {\n  if (password.includes(fname)) return false;\n  if (password.includes(lname)) return false;\n  return /^(?=.*?[A-Z])(?=.*?[a-z]).{8,}$/.test(password);\n}\n","import React from 'react';\n\n/**\n * Dump component\n * @param  {} {name ==> Name of the input box\n * @param  {} type ==> Type of the input box\n * @param  {} title ==> Title of the component\n * @param  {} onChange ==> Input text box change handler\n * @param  {} placeholder ==> Placeholder for the input box\n * @param  {} error ==> Error message, if there\n * @param  {} value ==> Value of the input box\n * @param  {} }\n */\nconst TextInput = ({\n  name,\n  type,\n  title,\n  onChange,\n  placeholder,\n  error,\n  value,\n}) => {\n  return (\n    <div className=\"mb-3\">\n      <label htmlFor={'input_' + name}>{title}</label>\n      <input\n        type={type}\n        name={name}\n        id={'input_' + name}\n        placeholder={placeholder}\n        onChange={onChange}\n        value={value}\n        required\n        className={`form-control ${error ? 'is-invalid' : ''}`}\n      ></input>\n      <div className=\"invalid-feedback\">{error}</div>\n    </div>\n  );\n};\n\nexport default TextInput;\n","import TextInput from '../common/TextInput';\n/**\n * Dump component\n * @param  {} {apiCallStatus ==> API status, true false\n * @param  {} user ==> user\n * @param  {} onChange ==> Form input handler\n * @param  {} onSave ==> Form save handler\n * @param  {} errors} ==> Errors on the form\n */\nconst LoginForm = ({ apiCallStatus, user, onChange, onSave, errors }) => {\n  return (\n    <form onSubmit={onSave} noValidate className=\"container\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <TextInput\n            type=\"input\"\n            name=\"fname\"\n            title=\"First Name\"\n            placeholder=\"Your first name\"\n            onChange={onChange}\n            value={user.fname}\n            error={errors.fname}\n          ></TextInput>\n\n          <TextInput\n            type=\"text\"\n            name=\"password\"\n            title=\"Password\"\n            placeholder=\"Your password\"\n            onChange={onChange}\n            value={user.password}\n            error={errors.password}\n          ></TextInput>\n        </div>\n        <div className=\"col\">\n          <TextInput\n            type=\"input\"\n            name=\"lname\"\n            title=\"Last Name\"\n            placeholder=\"Your last name\"\n            onChange={onChange}\n            value={user.lname}\n            error={errors.lname}\n          ></TextInput>\n          <TextInput\n            type=\"email\"\n            name=\"email\"\n            title=\"Email\"\n            placeholder=\"Your first name\"\n            onChange={onChange}\n            value={user.email}\n            error={errors.email}\n          ></TextInput>\n        </div>\n      </div>\n      <div className=\" row justify-content-end pr-3 mt-5\">\n        <button\n          className=\"btn btn btn-primary btn-lg col-5\"\n          type=\"submit\"\n          disabled={apiCallStatus}\n        >\n          {apiCallStatus ? 'Saving...' : 'Save'}\n        </button>\n      </div>\n    </form>\n  );\n};\nexport default LoginForm;\n","export const ERROR_FIRST_NAME = 'Please enter the first name';\nexport const ERROR_LAST_NAME = 'Please enter the last name';\nexport const ERROR_EMAIL = 'Please enter the valid email';\nexport const ERROR_MISSING_PASSWORD = 'Please enter the valid password';\nexport const ERROR_API = 'Something went wrong. Please try again!';\nexport const ERROR_PASSWORD = `Password should not include First or Last name.\n        Password Should contain minimum 8 character and\n        should include one capital and one small letter.`;\nexport const USER_SAVED_SUCCESS = 'User saved successfully!';\nexport const USER_RETRIEVE_SUCCESS = \"'User retrieved successfully!'\";\n","import { useState } from 'react';\nimport * as userAPI from '../../services/UserService';\nimport { sleep, validateEmail, validatePassword } from '.././../utils/Utils';\nimport LoginForm from './LoginForm';\nimport { toast } from 'react-toastify';\nimport * as messages from '../../utils/Messages';\n\n//initial user state\nexport const initialUserState = {\n  fname: '',\n  lname: '',\n  email: '',\n  password: '',\n};\n\n/**\n * Login page ==> smart component\n * Used to handle the state update, errors, api calls\n */\nconst LoginPage = () => {\n  const [user, setUser] = useState(initialUserState);\n  const [errors, setErrors] = useState({});\n  const [apiCallInProgress, setApiCallInProgress] = useState(false);\n\n  /**\n   * update the user fields\n   * @param  {} event\n   */\n  const onChangeHandler = (event) => {\n    const { name, value } = event.target;\n    user[name] = value;\n\n    setUser((user) => ({\n      ...user,\n      [name]: value,\n    }));\n  };\n  /**\n   * Save handler for user form\n   * @param  {} event\n   */\n  const onSaveHandler = (event) => {\n    event.preventDefault();\n    if (!isFormValid()) return;\n    postUser();\n  };\n\n  /**\n   * Post the user data\n   */\n  const postUser = async () => {\n    const payload = {\n      firstName: user.fname,\n      lastName: user.lname,\n      email: user.email,\n    };\n\n    try {\n      setApiCallInProgress(true);\n      const res = await userAPI.saveUser(payload);\n      if (res.status === 200) toast.success(messages.USER_SAVED_SUCCESS);\n\n      await sleep(4000);\n      const resGetUser = await userAPI.getUser();\n      if (resGetUser.data) toast.success(messages.USER_RETRIEVE_SUCCESS);\n      setApiCallInProgress(false);\n    } catch (error) {\n      setApiCallInProgress(false);\n      toast.error(messages.ERROR_API);\n    }\n  };\n\n  /**\n   * Validate the form\n   */\n  const isFormValid = () => {\n    const { fname, lname, password, email } = user;\n    const errors = {};\n    if (!fname) errors.fname = messages.ERROR_FIRST_NAME;\n    if (!lname) errors.lname = messages.ERROR_LAST_NAME;\n    if (!email) errors.email = messages.ERROR_EMAIL;\n    if (email && !validateEmail(email)) errors.email = messages.ERROR_EMAIL;\n\n    if (!password) errors.password = messages.ERROR_MISSING_PASSWORD;\n    if (password && !validatePassword(password, fname, lname))\n      errors.password = messages;\n\n    setErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  /**\n   * Login form\n   */\n  return (\n    <LoginForm\n      user={user}\n      onChange={onChangeHandler}\n      onSave={onSaveHandler}\n      errors={errors}\n      apiCallStatus={apiCallInProgress}\n    ></LoginForm>\n  );\n};\nexport default LoginPage;\n","import React from 'react';\nconst PageNotFound = () => <h1>Oops! Page not found</h1>;\nexport default PageNotFound;\n","import React from 'react';\n\n/*\n * Header component\n */\nconst Header = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-warning mb-5 shadow-sm\">\n      <img\n        src=\"/rabo_react_FE/rabobank_logo.png\"\n        style={{ height: 50 }}\n        alt=\"Rabo bank Logo\"\n      ></img>\n      <h3 className=\"p-2\">RABO Bank login Page</h3>\n    </nav>\n  );\n};\nexport default Header;\n","import LoginPage from './components/login/LoginPage';\nimport { Route, Switch } from 'react-router-dom';\nimport PageNotFound from './components/PageNotFound';\nimport Header from './components/common/Header';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../src/index.css';\n\nfunction App() {\n  return (\n    <>\n      <Header> </Header>\n      <div className=\"container\">\n        <Switch>\n          <Route path=\"/\" component={LoginPage}></Route>\n          <Route component={PageNotFound}></Route>\n        </Switch>\n      </div>\n      <ToastContainer autoClose={3000} hideProgress></ToastContainer>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}